# 1.1 네트워크란

### 1.1.1 네트워크의 역사

**TSS(Time Sharing System)**

최초의 네트워크로 대형컴퓨터와 TSS 단말기 두대로 구성된 간단한 네트워크

**ARPANET**

**`패킷 교환 방식 사용`** - 데이터를 패킷 단위로 잘라 취급

### 1.1.2 회선 교환 방식

|  | 회선 교환 방식 | 패킷 교환 방식 |
| --- | --- | --- |
| 설명 | 일대일의 전송로를 만들고 해당 전송로를 계속 사용하는 방식 | 헤더에 수신 컴퓨터 정보, 순번 등을 담은 정보로 통신 |
| 예시 | 고정 전화, TSS | 현대 네트워크 |
| 장점 | 안정적인 통신 품질 유지 가능 | 회선 이용 효율 높음
패킷이 도중에 사라져도 사라진 패킷만 전송하면 됨 |
| 단점 | 회선 이용 효율이 낮음 |  |

![image](https://github.com/user-attachments/assets/e2fee101-75a5-42f6-86d3-7cff43d46ab0)

# 1.2 프로토콜

**프로토콜**을 지정함으로써 유무선 / 제조사 / 운영체제가 달라도 통신이 가능

**HTTPS(Hypertext Transfer Protocol Secure)** - 웹서버와 웹브라우저 사이에서 패킷을 암호화하여 교환할 때 사용하는 프로토콜  

### 1.2.1 프로토콜에 결정되어 있는 것

1. **물리**
    
    LAN 케이블 소재 / 커넥터 / 핀 할당 / 와이파이 전파 주파수 / 패킷의 전파 변조 방식 → 프로토콜에 정의되어 있음
    

2. **송신 상대 특정**
    
    **`주소를 할당`**해 송신 상대 구별 
    

3. **패킷 전송**
    
    헤더에는 순번, 서버 전송 등에 필요한 제어 정보 등이 탑재
    
    프로토콜에는 헤더가 어떤 정보를 어떻게 포함하고 있는지, 어떤 순서로 교환하는지 등을 정의 함
    
    패킷 교환 네트워크를 구성하느 패킷 교환기는 헤더 정보를 기반으로 릴레이로 패킷을 전송
    
    ![image](https://github.com/user-attachments/assets/b5ae6a63-d84a-423b-908e-e866a98f2aad)


4. **신뢰성 확립**
    
    패킷이 손상되거나 사라진지 확인 후 재전송하는 구조 제공
    
    한정된 네트워크 자원이 패킷으로 가득 차지 않게끔 하는 구조 제공
    
5. **보안 확보**
    
    통신 상대 인증 및 통신 암호화 제공
    

### 1.2.2 프로토콜은 계층으로 정리한다

프로토콜로 정의된 다양한 통신 기능은 그 처리에 맞춰 계층 구조로 구성

![image](https://github.com/user-attachments/assets/4cc68961-5a8e-456d-9f85-267cf8a8347b)

### 1.2.2 2가지 계층 구조 모델

1. **TCP/IP 참조 모델**
    
    각 계층의 역할 세분화 및 순서대로 처리
    
    ![image](https://github.com/user-attachments/assets/6f4660bd-ce9b-488b-95c9-14c9ea458a6f)
    
2. **OSI 참조 모델**
    
    ISO에서 지정
    
    각 계층의 역할 세분화, 타 계층 처리에 관여하지 않음
    
    ![image](https://github.com/user-attachments/assets/f53ad92e-5f1d-4b66-8b7a-7e2e877b88f1)

    

![image](https://github.com/user-attachments/assets/420fba99-41c5-45d2-ba5f-f1d7920af177)

**PDU (Protocol Data Unit)**

계층에서 처리하는 데이터 단위

헤더(제어정보 포함), 페이로드(데이터 자체)

처리되는 계층에 따라 명칭이 다름

![image](https://github.com/user-attachments/assets/4a22bcd0-4163-48ea-8ee7-4eb179fd2c00)

### 1.2.3 표준화 단체가 프토콜을 결정한다

IEEE - 하드웨어 중점

IETF - 소프트웨어 중점

표준화된 규칙은 RFC라는 형태로 문서화되어 공개

![image](https://github.com/user-attachments/assets/5b61f0f1-36f1-4cbe-b4c0-e876d3b681d4)

### 1.2.4 각 계층이 연계하여 동작하는 구조

**캡슐화와 비캡슐화**

송신 단말은 애플리케이션 계층부터 순서대로 각 계층에서 **페이로드에 헤더를 붙여 PDU**로 만들어 한단계 아래 계층으로 전달 (**캡슐화**)

대응 단말은 물리계층부터 **순차적으로 헤더를 제거**하고 한단계 위 계층으로 전달 (**비캡슐화**)

![image](https://github.com/user-attachments/assets/3da60797-5f28-4ac1-aeb1-57915c691be4)

**커넥션 타입과 커넥션리스 타입**

| 커넥션 타입 | 커넥션리스 타입 |
| --- | --- |
| 정해진 순서에 따라 데이터 전송 | 곧바로 데이터를 보내면서 커넥션을 확립한 뒤 마음대로 종료 |
| 안정적이지만 비교적 큰 시간 소요 | 비교적 적은 시간 소요 |

![image](https://github.com/user-attachments/assets/cabb99c4-6c09-46b9-98d6-557a0fab7d17)

**대표 프로토콜**

| 물리, 데이터 계층 | 유선 - 이더넷
무선 - IEEE802.11 |
| --- | --- |
| 네트워크 계층 | IP |
| 트랜스포트 계층 | TCP / UDP |
| 애플리케이션 | HTTP/S, QUIC, DNS |

![image](https://github.com/user-attachments/assets/7eaba0e4-0354-4cde-906e-6d488d26363c)

## 1.3 네트워크 구성 기기

모든 네트워크 기기가 모든 계층의 프로토콜 정보를 처리할 수 없음

### 1.3.1 물리 계층에서 동작하는 기기

1. **NIC (Network Interface Card)**
    
    NIC를 이용해 모든 네트워크 단말은 애플리케이션과 운영체제가 처리한 패킷을  LAN 케이블이나 전파로 보낸다
    
2. **리피터**
    
    LAN 상의 전기 신호 파형을 증폭
    
    광섬유 케이블 활용이 많아지며 사용이 줄음
    
3. **리피터 허브**
    
    전달받은 패킷의 복사본을 그대로 다른 모든 포트에 전송하는 기기
    
    L2 스위치로 대체
    
4. **미디어 컨버터**
    
    전기 신호와 광 신호를 서로 교환하는 기기
    
    LAN은 길게 이용 못하고, 광섬유 케이블은 비싸기 때문에 사용됨
    
5. **액세스 포인트**
    
    패킷을 전파로 복사/변조하는 기기
    
    무선과 유선 사이의 다리 역할
    

### 1.3.2 데이터링크 계층에서 동작하는 기기

물리계층의 신뢰성을 확보하고 같은 네트워크에 있는 단말과 연결할 수 있도록 하는 계층

1. **브리지**
    
    포트와 포트 사이의 다리역할
    
    MAC 어드레스를 MAC 주소 테이블로 관리하고 전송을 처리(브리징)
    
    L2 스위치로 대체
    
2. **L2 스위치**
    
    단말에서 받아들인 프레임의 MAC 주소를 MAC 주소 테이블로 관리하고 전송 처리
    
    유선단말의 대부분이 L2 스위치를 통해 네트워크에 연결
    
    ![image](https://github.com/user-attachments/assets/da841b13-b289-460c-b618-a179d2525ced)

    

### 1.3.3 네트워크 계층에서 동작하는 기기

네트워크 계층은 네트워크와 네트워크를 연결하는 계층

1. **라우터**
    
    단말로부터 받아들인 IP 패킷의 IP 주소로 자신이 속한 네트워크를 넘은 범위에 있는 단말로 전달하는 역할
    
    IP 패킷을 패키지 리레이해서 목적지로 보냄
    
    라우터는 NAT(IP 주소 변환), IPsec VPN(인터넷 가상 전용선) 등 다양한 기능 제공
    
    ![image](https://github.com/user-attachments/assets/5e36b172-edac-483f-834d-0554fbc81b98)

    
2. **L3 스위치**
    
    라우터 + L2 스위치
    
    L3 스위치는 MAC 주소 테이블과 라우팅 테이블을 조합한 정보를 FPGA나 ASIC 등의 패킷 전송처리 전용 하드웨어에 기록, 해당 정보를 바탕으로 스위칭 혹은 라우팅
    
    FPGA, ASIC를 통해 패킷 고속 패킷 정송처리 가능하지만 라우터와 같이 다양한 기능 제공하지 않음
    

### 1.3.4 트랜스포트 계층에서 동작하는 기기

애플리케이션을 식별하고 요건에 맞게 통신을 제어하는 계층

TCP, UDP 헤더를 포함한 **포트 번호**에 기반해 패킷 전송

ex) HTTP : 80번 HTTPS : 443번

1. 방화벽
    
    방화벽은 단말 사이에서 변환되는 패킷의 IP 주소나 포트 번호를 보고 통신을 허가하거나 차단(stateful inspection)
    

### 1.3.5 애플리케이션 계층에서 동작하는 기기

1. 차세대 방화벽
    
    VPN, IDS(침입 탐지 시스템), IPS(침입 차단 시스템) 등 다양한 보안 기능을 넣은 통합화를 추구
    
    다양한 정보를 애플리케이션 레벨에서 해석함에 따라 전통적인 방화벽보다 높은 차원의 보안, 운용 관리성 제공
    
    ![image](https://github.com/user-attachments/assets/b4611700-3105-4dc0-a4dd-a096f8f36282)

    
2. WAF(Web Application Firewall)
    
    WAF는 클라이언트와 서버 사이에서 교환되는 정보의 움직임을 애플리케이션 레벨에서 검사하고 차단
    
    SQL 인젝션, XSS  등의 공격을 막아줌
    
3. 부하 분산 장치(로드 밸런싱)
    
    스케일 아웃 처리 - 여러 서버에게 트래픽 분담
    
    ![image](https://github.com/user-attachments/assets/2fdc292d-3488-4841-b829-0e47f074a6c6)


애플리케이션 계층은 사용자에게 애플리케이션을 제공하는 계층

## 1.4 다양한 네트워크 기기 형태

### 1.4.1 물리 어플라이언스

패킷을 처리하는 소프트웨어가 동작하기 위해 구성된 최적의 하드웨어

![image](https://github.com/user-attachments/assets/6855f39e-6ff3-4e36-a689-b6adb8d0061d)

### 1.4.2 가상 어플라이언스

가상화 기술을 제공하는 소프트웨어 위에서 동작하는 네트워크 기기

가상화 기술을 통해 만들어진 기술을 가상화 기술이라고 칭함

![image](https://github.com/user-attachments/assets/12fbb284-7912-494d-980c-ac7163d7c469)

## 1.5 네트워크 형태

네트워크를 LAN, WAN, DMZ 3종류로 구분

### 1.5.1 LAN(Local Area Network)

가정 , 기업 등 한정된 범위의 네트워크를 의미

가정용 단말 같은 경우에 브로드밴드 라우터가 제공하는 LAN에 우선 연결되고 이후 인터넷에 연결

기업 LAN은 규모에 따라 많은 단말의 패킷을 처리할 수 있는 기능을 가진 기기로 구성(다중화 - 기기에 이상 발생하더라도 통신 유지, L2 루프 방지 기능 - 프레임이 네트워크 안에 표류하며 LAN 전체가 통신할 수 없는 장애)

![image](https://github.com/user-attachments/assets/00458a69-4d1d-40d9-8722-39ee485750d7)

![image](https://github.com/user-attachments/assets/a28cbb77-69f0-49fd-990c-48017d5f7392)

### 1.5.2 WAN(Wide Area Network)

크게 **인터넷**과 **VPN**을 사용한 내부망으로 나눌 수 있음

**인터넷**

라우터의 집합으로 ISP(Internet Service Provider)에는 AS 번호와 같은 관리 번호가 할당되고 이는 곧 각 조직이 관리하는 범위를 의미

인터넷에서는 AS 번호 연결과 경로를 규정하고 있으며 패킷은 그 규칙에 따라 인터넷 이동

![image](https://github.com/user-attachments/assets/38546e40-f232-4346-ad37-4b897338940f)

**폐역 VPN망**

LAN과 LAN을 연결하는 네트워크를 의미

직접 구축 시 라우터나 방화벽 간의 거점 간 VPN 기능 이용

VPN(Virtual Private Network)

IPsec 프로토콜을 이용해 peer to peer (일대일 연결)하고 해당 통신을 암호화

### 1.5.3 DMZ

인터넷에 공개하는 서버를 설치한 네트워크를 의미

다중화 제공 : DMZ에서는 어떤 기기가 고장나더라도, 어떤 케이블이 끊어져도 경로가 즉시 전환되어 서비스를 계속 제공할 수 있도록 동일한 종류의 네트워크 기기를 병렬로 배치

## 1.6 새로운 네트워크 형태

### 1.6.1 SDN(Software Denied Network)

소프트웨어에 의해 관리 제어 되는 가상 네트워크 또는 이를 구성하기 위한 기술을 의미

- 제어 영역 : 네트워크 전체를 제어
- 데이터 영역 : 패킷을 전송

---

- 오버레이 타입 : 가상 터널을 만들고 패킷을 전송 (VXLAN  프로토콜 사용) → 압도적으로 많이 사용
- 홉바이홉 : 각 스위치에 경로 정보를 배포해 그 정보 기반으로 패킷 전송

![image](https://github.com/user-attachments/assets/28a01a70-7627-4e2a-a624-78b0ad6be895)

### 1.6.2 CDN(Content Delivery Network)

웹컨텐츠로 사용되는 다양한 파일을 대량으로 송신하기 위해 최적화된 인터넷상의 서버 네트워크를 의미

웹컨텐츠를 가진 오리진 서버, 캐시를 갖는 에지 서버로 구성

![image](https://github.com/user-attachments/assets/dcf17b29-8ac2-4f8e-a395-1634e16d9c3b)

### 1.6.3 IoT

Internet of Things의 약자로 주변에 있는 다양한 것들이 인터넷에 연결된 구조를 의미

CoAP MQTT

### 1.6.4 IaaS(Infrastructure as a Service)

서버와 네트워크 등의 인프라를 인터넷 상에서 구축하는 클라우드 서비스의 일종

물리 계층을 의식할 필요가 없음

ex) AWS의 VPC

AWS 상에 프라이빗 클라우드를 만들 수 있는 서비스

EC2, Route53, ELB, RDS 등 조합하고 AWS 특유의 사고방식인 리전이나 AZ를 이용해 다중화 가능
